<style>
    .navbar {
      background-color: #3c2559;
      padding: 0.75rem 1rem;
      width: 100%;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      transition: background-color 0.3s ease, box-shadow 0.3s ease;
      position: sticky;
      top: 0;
      z-index: 10;
      margin-bottom: 0.5rem;
    }

    .navbar-logo {
      height: 40px;
      width: auto;
      max-width: 100%;
    }

    .navbar-brand {
      color: #f8f9fa;
      font-weight: bold;
      font-size: 1.75rem;
      display: flex;
      align-items: center;
      transition: color 0.3s ease;
    }

    .navbar-brand:hover {
      color: #e9ecef;
    }

    .navbar-nav .nav-link {
      color: #f8f9fa;
      padding: 0.5rem 1.25rem;
      margin: 0 0.5rem;
      border-radius: 0.5rem;
      transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease;
      display: flex;
      align-items: center;
      font-size: 1.125rem;
    }

    .nav-i {
      margin-right: 0.5rem;
    }

    .navbar-nav .nav-link:hover {
      background-color: #2b1a3e;
      color: #e9ecef;
      transform: scale(1.05);
    }

    .navbar-toggler-icon {
      filter: invert(1);
    }

    .navbar-toggler {
      border: none;
    }

    .mobile-profile {
      display: flex;
      align-items: center;
      font-size: 0.9rem;
      font-weight: 300;
      color: white !important;
    }

     .mobile-profile {
        display: flex;
        align-items: center;
        color: white !important;
        font-size: 0.9rem;
        font-weight: 300;
      }

    .dropdown-menu {
      z-index: 9999;
    }

    @media (max-width: 767px) {
      .navbar-logo {
        height: 30px;
      }
      .navbar-nav {
        text-align: center;
        font-size: 0.8rem;
      }

      .navbar-brand {
        font-size: 0.8rem !important;
      }

      .navbar-nav .nav-link {
        margin: 0.25rem 0;
      }

      .mobile-profile {
        font-size: 0.8rem !important; /* 0.8rem / 3 ≈ 0.267rem */
      }
      .mobile-profile a {
        font-size: 0.8rem !important;
      }
      .mobile-profile .nav-link .nav-i {
        margin-right: 0rem; /* smaller icon margin */
        font-size: 0.8rem !important;
      }
      .dropdown-menu {
        min-width: 14rem;
        padding: 0.5rem 0;
        font-size: 0.5rem !important;
        font-weight: 300;
        margin: 0;
      }
    }

   
    @media (max-width: 575px) {
      .navbar-nav .nav-link {
        padding: 0.5rem 0.75rem;
        margin: 0.25rem 0;
        font-size: 0.875rem;
      }

      .navbar-brand {
        font-size: 1.25rem;
      }

      .navbar-toggler {
        margin-left: auto;
      }

      .mobile-profile a {
        font-size: 0.8rem;
      }
    }

     @media (max-width: 360px) {
      .navbar-logo {
        height: 25px;
      }

      .navbar-brand {
        font-size: 0.8rem !important;
      }

      .mobile-profile {
        font-size: 0.7rem !important; /* 0.8rem / 3 ≈ 0.267rem */
      }
      .mobile-profile a {
        font-size: 0.7rem !important;
      }
      .mobile-profile .nav-link .nav-i {
        margin-right: 0; /* smaller icon margin */
        font-size: 0.7rem !important;
      }
      .dropdown-menu {
        min-width: 14rem;
        padding: 0.5rem 0;
        font-size: 0.5rem !important;
        font-weight: 300;
        margin: 0;
      }
    }


    @media (min-width: 992px) {
      .navbar-nav .nav-link {
        font-size: 1.25rem;
      }

      .navbar-brand {
        font-size: 2rem;
      }
    }

    @media (min-width: 1200px) {
      .navbar-nav .nav-link {
        font-size: 1.375rem;
      }

      .navbar-brand {
        font-size: 2.25rem;
      }
    }
  </style>
  <!-- Navbar -->
 <nav class="navbar navbar-expand-md bg-body-light border-bottom sticky-top">
  <div class="container-fluid d-flex align-items-center justify-content-between">

    <!-- Logo and brand -->
    <a class="navbar-brand d-flex align-items-center" href="/">
      <img src="/images/msbtemcq3.png" alt="Logo" class="navbar-logo">
      <span style="margin-left: 10px;">MSBTE-MCQ</span>
    </a>

    <!-- Right-side: Profile + Toggle -->
<div class="d-flex flex-nowrap align-items-center gap-2">

  <!-- Mobile Profile dropdown -->
  <div class="mobile-profile dropdown d-md-none">
    <a class="nav-link dropdown-toggle" href="#" id="mobileProfileDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="fas fa-user nav-i"></i> Profile
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="mobileProfileDropdown">
      <% if (currentUser) { %>
      <li><a class="dropdown-item" href="/profile">My Profile</a></li>
      <li><a class="dropdown-item" href="/auth/logout">Logout</a></li>
      <% } else { %>
      <li><a class="dropdown-item" href="/auth/login">Login</a></li>
      <li><a class="dropdown-item" href="/auth/signup">Sign Up</a></li>
      <% } %>
      <li><a class="dropdown-item" href="/privacy"><i class="fas fa-user-shield nav-i"></i>Privacy Policy</a></li>
      <li><a class="dropdown-item" href="/terms"><i class="fas fa-file-contract nav-i"></i>Terms of Service</a></li>
    </ul>
  </div>

  <!-- Navbar toggle button -->
  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
    aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

</div>

  <!-- Main navbar -->
  <div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">
    <div class="navbar-nav">
      <a class="nav-link" href="/"><i class="fas fa-home nav-i"></i> Home</a>
      <a class="nav-link" href="/TestApp/practice"><i class="fas fa-pen nav-i"></i> Practice</a>
      <a class="nav-link" href="/TestApp/test"><i class="fas fa-clipboard nav-i"></i> Test</a>
      <a class="nav-link" href="/subjects"><i class="fas fa-book nav-i"></i> Subjects</a>
      <!-- <a class="nav-link" href="/leaderBoard"><i class="fas fa-list-ol nav-i"></i> LeaderBoard</a> -->
      <a class="nav-link" href="/Contact"><i class="fa-solid fa-headset nav-i"></i>Contact Us</a>

      <!-- Desktop Profile dropdown -->
      <div class="nav-item dropdown d-none d-md-block">
        <a class="nav-link dropdown-toggle" href="#" id="desktopProfileDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="fas fa-user nav-i"></i> Profile
        </a>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="desktopProfileDropdown">
          <% if (currentUser) { %>
          <li><a class="dropdown-item" href="/profile">My Profile</a></li>
          <li><a class="dropdown-item" href="/auth/logout">Logout</a></li>
          <% } else { %>
          <li><a class="dropdown-item" href="/auth/login">Login</a></li>
          <li><a class="dropdown-item" href="/auth/signup">Sign Up</a></li>
          <% } %>
          <li><a class="dropdown-item" href="/privacy"><i class="fas fa-user-shield nav-i"></i>Privacy Policy</a></li>
          <li><a class="dropdown-item" href="/terms"><i class="fas fa-file-contract nav-i"></i>Terms of Service</a></li>
        </ul>
      </div>
    </div>
  </div>
</nav>

  <!-- Auto-collapse on outside click -->
  <script>
    document.addEventListener('click', function (event) {
      var navbarCollapse = document.getElementById('navbarNavAltMarkup');
      var navbarToggler = document.querySelector('.navbar-toggler');

      if (!navbarCollapse || !navbarToggler) return;

      var isNavbarOpen = navbarCollapse.classList.contains('show');
      var isClickInsideNavbar = navbarCollapse.contains(event.target);
      var isClickOnToggler = navbarToggler.contains(event.target);

      if (isNavbarOpen && !isClickInsideNavbar && !isClickOnToggler) {
        var bsCollapse = bootstrap.Collapse.getInstance(navbarCollapse);
        if (!bsCollapse) {
          bsCollapse = new bootstrap.Collapse(navbarCollapse);
        }
        bsCollapse.hide();
      }
    });
  </script>
